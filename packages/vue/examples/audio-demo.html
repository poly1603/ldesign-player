<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vue éŸ³é¢‘æ’­æ”¾å™¨ç¤ºä¾‹ - @ldesign/player-vue</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    #app {
      max-width: 800px;
      width: 100%;
    }

    .demo-container {
      background: white;
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    }

    h1 {
      color: #333;
      margin-bottom: 30px;
      text-align: center;
    }

    .playlist-section {
      margin-top: 30px;
      padding-top: 30px;
      border-top: 1px solid #e0e0e0;
    }

    h3 {
      color: #666;
      margin-bottom: 20px;
    }

    .playlist-item {
      display: flex;
      align-items: center;
      padding: 15px;
      background: #f8f8f8;
      border-radius: 10px;
      margin-bottom: 10px;
      cursor: pointer;
      transition: all 0.3s;
    }

    .playlist-item:hover {
      background: #e8e8e8;
      transform: translateX(5px);
    }

    .playlist-item.active {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }

    .playlist-item img {
      width: 50px;
      height: 50px;
      border-radius: 5px;
      margin-right: 15px;
    }

    .playlist-info {
      flex: 1;
    }

    .playlist-title {
      font-weight: 600;
      margin-bottom: 5px;
    }

    .playlist-artist {
      font-size: 14px;
      opacity: 0.7;
    }

    .playlist-duration {
      font-size: 14px;
      opacity: 0.7;
    }

    .features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-top: 30px;
      padding-top: 30px;
      border-top: 1px solid #e0e0e0;
    }

    .feature-card {
      padding: 20px;
      background: #f8f8f8;
      border-radius: 10px;
      text-align: center;
    }

    .feature-icon {
      font-size: 32px;
      margin-bottom: 10px;
    }

    .feature-title {
      font-weight: 600;
      margin-bottom: 5px;
    }

    .feature-desc {
      font-size: 14px;
      color: #666;
    }
  </style>
</head>

<body>
  <div id="app">
    <div class="demo-container">
      <h1>ğŸµ Vue éŸ³é¢‘æ’­æ”¾å™¨æ¼”ç¤º</h1>

      <!-- éŸ³é¢‘æ’­æ”¾å™¨ç»„ä»¶ -->
      <audio-player :src="currentTrack.src" :show-waveform="true" :show-volume="true" :show-lyrics="true"
        :lyrics="currentTrack.lyrics" @play="onPlay" @pause="onPause" @ended="onEnded" @next="playNext"
        @prev="playPrev"></audio-player>

      <!-- æ’­æ”¾åˆ—è¡¨ -->
      <div class="playlist-section">
        <h3>æ’­æ”¾åˆ—è¡¨</h3>
        <div v-for="(track, index) in playlist" :key="track.id" class="playlist-item"
          :class="{ active: currentTrackIndex === index }" @click="selectTrack(index)">
          <img :src="track.cover" :alt="track.title">
          <div class="playlist-info">
            <div class="playlist-title">{{ track.title }}</div>
            <div class="playlist-artist">{{ track.artist }}</div>
          </div>
          <div class="playlist-duration">{{ track.duration }}</div>
        </div>
      </div>

      <!-- åŠŸèƒ½ç‰¹ç‚¹ -->
      <div class="features">
        <div class="feature-card">
          <div class="feature-icon">ğŸ“Š</div>
          <div class="feature-title">æ³¢å½¢å¯è§†åŒ–</div>
          <div class="feature-desc">å®æ—¶éŸ³é¢‘æ³¢å½¢æ˜¾ç¤º</div>
        </div>
        <div class="feature-card">
          <div class="feature-icon">ğŸ¤</div>
          <div class="feature-title">æ­Œè¯åŒæ­¥</div>
          <div class="feature-desc">LRCæ ¼å¼æ­Œè¯æ”¯æŒ</div>
        </div>
        <div class="feature-card">
          <div class="feature-icon">ğŸšï¸</div>
          <div class="feature-title">å‡è¡¡å™¨</div>
          <div class="feature-desc">å¤šæ®µéŸ³é¢‘è°ƒèŠ‚</div>
        </div>
        <div class="feature-card">
          <div class="feature-icon">ğŸ“‹</div>
          <div class="feature-title">æ’­æ”¾åˆ—è¡¨</div>
          <div class="feature-desc">åˆ—è¡¨ç®¡ç†ä¸å¾ªç¯</div>
        </div>
      </div>
    </div>
  </div>

  <!-- å¼•å…¥ Vue 3 -->
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

  <!-- å¼•å…¥æ’­æ”¾å™¨ç»„ä»¶ (æ„å»ºå) -->
  <!-- <script src="../dist/player-vue.umd.min.js"></script> -->

  <script>
    const { createApp } = Vue;

    // æ¨¡æ‹Ÿ AudioPlayer ç»„ä»¶ï¼ˆå®é™…ä½¿ç”¨æ—¶ä» @ldesign/player-vue å¯¼å…¥ï¼‰
    const AudioPlayer = {
      name: 'AudioPlayer',
      template: `
                <div style="padding: 20px; background: white; border-radius: 12px;">
                    <div style="height: 120px; background: #f5f5f5; border-radius: 8px; margin-bottom: 20px; display: flex; align-items: center; justify-content: center; color: #999;">
                        æ³¢å½¢å¯è§†åŒ–åŒºåŸŸ
                    </div>
                    
                    <div style="display: flex; justify-content: center; gap: 15px; margin-bottom: 20px;">
                        <button @click="$emit('prev')" style="padding: 10px; background: transparent; border: none; cursor: pointer; font-size: 20px;">â®ï¸</button>
                        <button @click="togglePlay" style="padding: 15px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border: none; border-radius: 50%; color: white; cursor: pointer; font-size: 20px;">
                            {{ isPlaying ? 'â¸ï¸' : 'â–¶ï¸' }}
                        </button>
                        <button @click="$emit('next')" style="padding: 10px; background: transparent; border: none; cursor: pointer; font-size: 20px;">â­ï¸</button>
                    </div>
                    
                    <div style="height: 6px; background: #e0e0e0; border-radius: 3px; margin-bottom: 10px; cursor: pointer;">
                        <div style="height: 100%; width: 45%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 3px;"></div>
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; font-size: 14px; color: #666; margin-bottom: 15px;">
                        <span>1:35</span>
                        <span>3:24</span>
                    </div>
                    
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <span>ğŸ”Š</span>
                        <div style="flex: 1; height: 6px; background: #e0e0e0; border-radius: 3px; cursor: pointer;">
                            <div style="height: 100%; width: 80%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 3px;"></div>
                        </div>
                        <span style="font-size: 14px; color: #666;">80%</span>
                    </div>
                    
                    <div v-if="showLyrics && lyrics" style="text-align: center; font-size: 16px; color: #333; margin-top: 20px; padding: 15px; background: #f8f8f8; border-radius: 8px;">
                        {{ currentLyric || 'â™ª éŸ³ä¹æ’­æ”¾ä¸­...' }}
                    </div>
                </div>
            `,
      props: ['src', 'showWaveform', 'showVolume', 'showLyrics', 'lyrics'],
      emits: ['play', 'pause', 'ended', 'next', 'prev'],
      data() {
        return {
          isPlaying: false,
          currentLyric: ''
        }
      },
      methods: {
        togglePlay() {
          this.isPlaying = !this.isPlaying
          this.$emit(this.isPlaying ? 'play' : 'pause')
        }
      },
      mounted() {
        // æ¨¡æ‹Ÿæ­Œè¯å˜åŒ–
        setInterval(() => {
          const lyrics = [
            'â™ª ç¾å¦™çš„éŸ³ä¹æ­£åœ¨æ’­æ”¾...',
            'â™ª è®©éŸ³ä¹å¸¦ä½ é£ç¿”...',
            'â™ª äº«å—è¿™ä¸ªç¾å¥½çš„æ—¶åˆ»...',
            'â™ª éŸ³ç¬¦åœ¨ç©ºä¸­é£˜è¡...'
          ]
          this.currentLyric = lyrics[Math.floor(Math.random() * lyrics.length)]
        }, 3000)
      }
    }

    createApp({
      components: {
        AudioPlayer
      },
      data() {
        return {
          currentTrackIndex: 0,
          playlist: [
            {
              id: '1',
              title: 'å¤æ—¥å¾®é£',
              artist: 'è½»éŸ³ä¹å¤§å¸ˆ',
              src: 'track1.mp3',
              cover: 'https://via.placeholder.com/50/667eea/ffffff?text=â™ª',
              duration: '3:24',
              lyrics: '[00:00.00]å¤æ—¥å¾®é£ - è½»éŸ³ä¹å¤§å¸ˆ\n[00:05.00]â™ªâ™ªâ™ª'
            },
            {
              id: '2',
              title: 'é›¨åå½©è™¹',
              artist: 'è‡ªç„¶ä¹‹å£°',
              src: 'track2.mp3',
              cover: 'https://via.placeholder.com/50/764ba2/ffffff?text=â™ª',
              duration: '4:15',
              lyrics: '[00:00.00]é›¨åå½©è™¹ - è‡ªç„¶ä¹‹å£°\n[00:05.00]â™ªâ™ªâ™ª'
            },
            {
              id: '3',
              title: 'æ˜Ÿç©ºæ¼«æ­¥',
              artist: 'æ¢¦å¹»ä¹å›¢',
              src: 'track3.mp3',
              cover: 'https://via.placeholder.com/50/f093fb/ffffff?text=â™ª',
              duration: '5:02',
              lyrics: '[00:00.00]æ˜Ÿç©ºæ¼«æ­¥ - æ¢¦å¹»ä¹å›¢\n[00:05.00]â™ªâ™ªâ™ª'
            },
            {
              id: '4',
              title: 'æ™¨æ›¦ä¹‹å…‰',
              artist: 'æ–°ä¸–çºªéŸ³ä¹',
              src: 'track4.mp3',
              cover: 'https://via.placeholder.com/50/f5576c/ffffff?text=â™ª',
              duration: '3:48',
              lyrics: '[00:00.00]æ™¨æ›¦ä¹‹å…‰ - æ–°ä¸–çºªéŸ³ä¹\n[00:05.00]â™ªâ™ªâ™ª'
            }
          ]
        }
      },
      computed: {
        currentTrack() {
          return this.playlist[this.currentTrackIndex]
        }
      },
      methods: {
        selectTrack(index) {
          this.currentTrackIndex = index
        },
        playNext() {
          this.currentTrackIndex = (this.currentTrackIndex + 1) % this.playlist.length
        },
        playPrev() {
          this.currentTrackIndex = (this.currentTrackIndex - 1 + this.playlist.length) % this.playlist.length
        },
        onPlay() {
          console.log('æ’­æ”¾:', this.currentTrack.title)
        },
        onPause() {
          console.log('æš‚åœ:', this.currentTrack.title)
        },
        onEnded() {
          console.log('æ’­æ”¾ç»“æŸï¼Œè‡ªåŠ¨æ’­æ”¾ä¸‹ä¸€é¦–')
          this.playNext()
        }
      }
    }).mount('#app')
  </script>
</body>

</html>


